{% extends host_template %}

{% block content %}
<script type="text/javascript">

var hide_children = function (el){
    $(el).children('ul').css('display', 'none');
}

var show_children = function (el){
    $(el).children('ul').css('display', 'block');
}

jQuery(document).ready(function(){
    var menu_align = '{{ align }}';

    if (menu_align != 'DISABLED'){
        // Hide children of collapsible menus
        $('#{{ menu_slug }}_menu_{{ region_name }} .has_children').each(function(){
            hide_children($(this).parent());
        });

        // Expand children on mouse enter
        $('#{{ menu_slug }}_menu_{{ region_name }} ul li').mouseenter(function() {
            show_children($(this));
        });

        if (menu_align == 'HORIZONTAL'){
            $('#{{ menu_slug }}_menu_{{ region_name }} ul li').mouseleave(function() {
                hide_children($(this));
            });
        }
        // Collapse whe whole menu if the alignment is VERTICAL
        else{
            $('#{{ menu_slug }}_menu_{{ region_name }}').mouseleave(function(){
                hide_children($('#{{ menu_slug }}_menu_{{ region_name }} .has_children').parent());
            });
        }
    }
});
</script>

<ul>
    {{ menu_items|unordered_list }}
</ul>
{% endblock content %}
