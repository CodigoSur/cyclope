{% extends CYCLOPE_DEFAULT_TEMPLATE %}
{% load i18n cyclope_utils%}

{% block page_content %}
<div id="content_container">
    <div id='advanced_sarch' class='user_input'>
        <h6>{% trans "Advanced search" %}</h6>

        <form method="get" action=".">
            {{ form }}
            <input type="submit" class="submit" value={% trans "Search" %}>
        </form>
    </div>
    {% if query %}
        <div id="search_results" >
            <h3>{% trans "Results" %}</h3>

            {% for result in page.object_list %}
                {# show teaser_views for all results objects #}
                {% join result.object.get_app_label  "/" result.object.get_object_name "_teaser.html" as template_path %}
                {% alias result.object as result.object.get_object_name %}
                {% include template_path %}

            {% empty %}
                <p>{% trans "No results found." %}</p>
            {% endfor %}

            {% if page.has_previous or page.has_next %}
                <div>
                    {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
                    |
                    {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
                </div>
            {% endif %}
        </div>
    {% else %}
        {# TODO(diegoM): Show advanced search div #}
        {# Show some example queries to run, maybe query syntax, something else? #}
    {% endif %}
</div>
{% endblock %}
